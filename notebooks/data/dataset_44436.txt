Electricity Seed Three N Rows Two Thousand N Classes Ten N Columns One Hundred Stratify True 

Tags: Chemistry, Earth Science 

Subsampling of the dataset Electricity with a seed of three arguments number of rows maximum equals two thousand arguments number of columns maximum equals one hundred arguments number of classes maximum equals ten arguments no stratify equals false generated with the following source code 

def subsample self seed number of rows max equals two thousand number of columns max equals one hundred number of classes max equals ten stratified equals true 
rng equals np dot random dot default rng seed 
x equals self dot x 
y equals self dot y 

Uniformly sample classes equals y dot unique 
if length of classes is greater than number of classes max 
vcs equals y dot value counts 
selected classes equals rng dot choice classes size equals number of classes max replace equals false p equals vcs divided by sum of vcs 
Select the indices where one of these classes is present 
idxs equals y dot index y dot is in selected classes 
x equals x dot iloc idxs 
y equals y dot iloc idxs 

Uniformly sample columns if required 
if length of x dot columns is greater than number of columns max 
columns idxs equals rng dot choice list range length of x dot columns size equals number of columns max replace equals false 
sorted column idxs equals sorted columns idxs 
selected columns equals list x dot columns sorted column idxs 
x equals x selected columns 
else 
sorted column idxs equals list range length of x dot columns 
if length of x is greater than number of rows max 
Stratify accordingly 
target name equals y dot name 
data equals pd dot concat x comma y axis equals columns 
underscore comma subset equals train test split data test size equals number of rows max stratify equals data target name shuffle equals true random state equals seed 
x equals subset dot drop target name axis equals columns 
y equals subset target name 
We need to convert categorical columns to string for OpenML 
categorical mask equals list self dot categorical mask i for i in sorted column idxs 
columns equals list x dot columns 
return Dataset 
Technically this is not the same but it is where it was derived from 
dataset equals self dot dataset 
x equals x 
y equals y 
categorical mask equals categorical mask 
columns equals columns 

Keywords: Electricity, Subsampling, Stratify, Dataset, Chemistry, Earth Science